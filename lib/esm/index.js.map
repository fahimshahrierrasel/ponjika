{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":["interface IDateBengaliNumeral {\n  bnYear: string;\n  bnMonth: string;\n  bnDate: string;\n}\n\ninterface IDateNumeral {\n  year: number;\n  month: number;\n  date: number;\n}\n\ninterface IPonjika {\n  year: number;\n  month: number;\n  date: number;\n  bnYear: string;\n  bnMonthNo: string;\n  bnDate: string;\n  bnMonth: string;\n  bnDay: string;\n  season: string;\n  bnMonthPhn: string;\n  bnDayPhn: string;\n  seasonPhn: string;\n}\n\ninterface IObjType {\n  [key: string]: string;\n}\n\nexport function enToBnNumber(src: number, prefixZero: boolean = false): string {\n  const bdNumObj: { [key: string]: string } = {\n    \"1\": \"১\",\n    \"2\": \"২\",\n    \"3\": \"৩\",\n    \"4\": \"৪\",\n    \"5\": \"৫\",\n    \"6\": \"৬\",\n    \"7\": \"৭\",\n    \"8\": \"৮\",\n    \"9\": \"৯\",\n    \"0\": \"০\",\n  };\n\n  const numStrArr = src.toString().split(\"\");\n\n  numStrArr.forEach((digit, index) => {\n    numStrArr[index] = bdNumObj[digit];\n  });\n\n  const bdNum = numStrArr.join(\"\");\n\n  if (prefixZero && bdNum.length === 1) {\n    return bdNumObj[\"0\"] + bdNum;\n  }\n  return bdNum;\n}\n\nexport class Ponjika {\n  private _bengliMonths: IObjType = {\n    Poush: \"পৌষ\",\n    Maagh: \"মাঘ\",\n    Falgun: \"ফাল্গুন\",\n    Chaitra: \"চৈত্র\",\n    Boisakh: \"বৈশাখ\",\n    Joistho: \"জ্যৈষ্ঠ\",\n    Ashar: \"আষাঢ়\",\n    Shraban: \"শ্রাবণ\",\n    Vadro: \"ভাদ্র\",\n    Ashin: \"আশ্বিন\",\n    Kartik: \"কার্তিক\",\n    Agrahan: \"অগ্রহায়ণ\",\n  };\n\n  private _bengaliWeekDays: IObjType = {\n    Robibar: \"রবিবার\",\n    Sombar: \"সোমবার\",\n    Mongolbar: \"মঙ্গলবার\",\n    Budhbar: \"বুধবার\",\n    Brihospotibar: \"বৃহস্পতিবার\",\n    Shukrobar: \"শুক্রবার\",\n    Shonibar: \"শনিবার\",\n  };\n\n  private _bengliSeasons: IObjType = {\n    Sheet: \"শীত\",\n    Bosonto: \"বসন্ত\",\n    Grismo: \"গ্রীষ্ম\",\n    Borsha: \"বর্ষা\",\n    Sorot: \"শরৎ\",\n    Hemonto: \"হেমন্ত\",\n  };\n\n  private _bengliMonthNo = [9, 10, 11, 12, 1, 2, 3, 4, 5, 6, 7, 8];\n  private _totalDaysInMonth = [30, 30, 29, 30, 31, 31, 31, 31, 31, 31, 30, 30];\n  private _midMonthDate = [14, 13, 14, 13, 14, 14, 15, 15, 15, 16, 15, 15];\n  private _lastMonthIndex = 3;\n  private _leapYearMonthIndex = 2;\n\n  private _refDate: Date;\n  private _bnPrefixZero: boolean;\n  private _date: number = 0;\n  private _month: number = 0;\n  private _year: number = 0;\n  private _bnYear: string = \"\";\n  private _bnMonth: string = \"\";\n  private _bnMonthNo: string = \"\";\n  private _bnDate: string = \"\";\n  private _bnDay: string = \"\";\n  private _season: string = \"\";\n\n  constructor(src: Date = new Date(), bnPrefixZero: boolean = true) {\n    this._refDate = src;\n    this._bnPrefixZero = bnPrefixZero;\n    this._getBengaliDate();\n  }\n\n  private _isLeapYear = (year: number): boolean => {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n  };\n\n  private _toBDTimezone = (src: Date): Date => {\n    const bdEnString = src.toLocaleString(\"en\", {\n      timeZone: \"Asia/Dhaka\",\n    });\n    return new Date(bdEnString);\n  };\n\n  private _getDateMonthYear = (src: Date = this._refDate) => {\n    const year = src.getFullYear();\n    const month = src.getMonth();\n    const date = src.getDate();\n\n    return { date, month, year };\n  };\n\n  private _gregorianToBengaliYear = (\n    year: number,\n    month: number,\n    date: number\n  ): number => {\n    // Gregorian Year - 594 Ex. 2022 - 594 = 1428\n    let bengaliYear = year - 594;\n\n    if (\n      month > this._lastMonthIndex ||\n      (month === this._lastMonthIndex && date > 13)\n    ) {\n      bengaliYear = bengaliYear + 1;\n    }\n    return bengaliYear;\n  };\n\n  private _getBengaliDate = (src: Date = this._refDate) => {\n    const bdDate = this._toBDTimezone(src);\n    const { date, month, year } = this._getDateMonthYear(bdDate);\n    const bengaliYear = this._gregorianToBengaliYear(year, month, date);\n\n    let monthDays = this._totalDaysInMonth[month];\n    let bengaliDate = 0;\n    let bengaliMonth = \"\";\n    let bengaliMonthIndex = 0;\n\n    if (date <= this._midMonthDate[month]) {\n      if (month === this._leapYearMonthIndex && this._isLeapYear(year)) {\n        monthDays = this._totalDaysInMonth[month] + 1;\n      }\n      bengaliDate = monthDays + date - this._midMonthDate[month];\n      bengaliMonthIndex = month;\n      bengaliMonth = Object.keys(this._bengliMonths)[bengaliMonthIndex];\n    } else {\n      bengaliDate = date - this._midMonthDate[month];\n      bengaliMonthIndex = (month + 1) % 12;\n      bengaliMonth = Object.keys(this._bengliMonths)[bengaliMonthIndex];\n    }\n    const bengaliSeason = Object.keys(this._bengliSeasons)[\n      Math.floor(bengaliMonthIndex / 2)\n    ];\n\n    this._year = bengaliYear;\n    this._date = bengaliDate;\n    this._month = this._bengliMonthNo[bengaliMonthIndex];\n    this._bnYear = enToBnNumber(bengaliYear, this._bnPrefixZero);\n    this._bnMonth = bengaliMonth;\n    this._bnMonthNo = enToBnNumber(\n      this._bengliMonthNo[bengaliMonthIndex],\n      this._bnPrefixZero\n    );\n    this._bnDate = enToBnNumber(bengaliDate, this._bnPrefixZero);\n    this._bnDay = Object.keys(this._bengaliWeekDays)[bdDate.getDay()];\n    this._season = bengaliSeason;\n  };\n\n  getBengaliDate = (): string => {\n    return `${this._bengaliWeekDays[this._bnDay]}, ${this._bnDate} ${\n      this._bengliMonths[this._bnMonth]\n    } ${this._bnYear}`;\n  };\n\n  getBengaliPhoneticDate = (): string => {\n    return `${this._bnDay}, ${this._date} ${this._bnMonth} ${this._year}`;\n  };\n\n  getDateBengaliNumeral = (): IDateBengaliNumeral => {\n    return {\n      bnDate: this._bnDate,\n      bnMonth: this._bnMonthNo,\n      bnYear: this._bnYear,\n    } as IDateBengaliNumeral;\n  };\n\n  getDateNumeral = (): IDateNumeral => {\n    return {\n      year: this._year,\n      month: this._month,\n      date: this._date,\n    } as IDateNumeral;\n  };\n\n  getDetails = (): IPonjika => {\n    return {\n      year: this._year,\n      month: this._month,\n      date: this._date,\n      bnYear: this._bnYear,\n      bnMonthNo: this._bnMonthNo,\n      bnDate: this._bnDate,\n      bnMonth: this._bengliMonths[this._bnMonth],\n      bnDay: this._bengaliWeekDays[this._bnDay],\n      season: this._bengliSeasons[this._season],\n      bnMonthPhn: this._bnMonth,\n      bnDayPhn: this._bnDay,\n      seasonPhn: this._season,\n    } as IPonjika;\n  };\n}\n"],"names":[],"mappings":";;;;;;SA+BgB,YAAY,CAAC,GAAW,EAAE,aAAsB,KAAK,EAAA;AACnE,IAAA,MAAM,QAAQ,GAA8B;AAC1C,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,GAAG,EAAE,GAAG;KACT;IAED,MAAM,SAAS,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;IAE1C,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,KAAI;QACjC,SAAS,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;AACpC,IAAA,CAAC,CAAC;IAEF,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC;IAEhC,IAAI,UAAU,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AACpC,QAAA,OAAO,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK;IAC9B;AACA,IAAA,OAAO,KAAK;AACd;MAEa,OAAO,CAAA;AAqDlB,IAAA,WAAA,CAAY,MAAY,IAAI,IAAI,EAAE,EAAE,eAAwB,IAAI,EAAA;AApDxD,QAAA,IAAA,CAAA,aAAa,GAAa;AAChC,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,SAAS;AACjB,YAAA,OAAO,EAAE,OAAO;AAChB,YAAA,OAAO,EAAE,OAAO;AAChB,YAAA,OAAO,EAAE,SAAS;AAClB,YAAA,KAAK,EAAE,OAAO;AACd,YAAA,OAAO,EAAE,QAAQ;AACjB,YAAA,KAAK,EAAE,OAAO;AACd,YAAA,KAAK,EAAE,QAAQ;AACf,YAAA,MAAM,EAAE,SAAS;AACjB,YAAA,OAAO,EAAE,WAAW;SACrB;AAEO,QAAA,IAAA,CAAA,gBAAgB,GAAa;AACnC,YAAA,OAAO,EAAE,QAAQ;AACjB,YAAA,MAAM,EAAE,QAAQ;AAChB,YAAA,SAAS,EAAE,UAAU;AACrB,YAAA,OAAO,EAAE,QAAQ;AACjB,YAAA,aAAa,EAAE,aAAa;AAC5B,YAAA,SAAS,EAAE,UAAU;AACrB,YAAA,QAAQ,EAAE,QAAQ;SACnB;AAEO,QAAA,IAAA,CAAA,cAAc,GAAa;AACjC,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,OAAO,EAAE,OAAO;AAChB,YAAA,MAAM,EAAE,SAAS;AACjB,YAAA,MAAM,EAAE,OAAO;AACf,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,OAAO,EAAE,QAAQ;SAClB;QAEO,IAAA,CAAA,cAAc,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxD,IAAA,CAAA,iBAAiB,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACpE,IAAA,CAAA,aAAa,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAChE,IAAA,CAAA,eAAe,GAAG,CAAC;QACnB,IAAA,CAAA,mBAAmB,GAAG,CAAC;QAIvB,IAAA,CAAA,KAAK,GAAW,CAAC;QACjB,IAAA,CAAA,MAAM,GAAW,CAAC;QAClB,IAAA,CAAA,KAAK,GAAW,CAAC;QACjB,IAAA,CAAA,OAAO,GAAW,EAAE;QACpB,IAAA,CAAA,QAAQ,GAAW,EAAE;QACrB,IAAA,CAAA,UAAU,GAAW,EAAE;QACvB,IAAA,CAAA,OAAO,GAAW,EAAE;QACpB,IAAA,CAAA,MAAM,GAAW,EAAE;QACnB,IAAA,CAAA,OAAO,GAAW,EAAE;AAQpB,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,IAAY,KAAa;AAC9C,YAAA,OAAO,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK,IAAI,GAAG,GAAG,KAAK,CAAC;AACjE,QAAA,CAAC;AAEO,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,GAAS,KAAU;AAC1C,YAAA,MAAM,UAAU,GAAG,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;AAC1C,gBAAA,QAAQ,EAAE,YAAY;AACvB,aAAA,CAAC;AACF,YAAA,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC;AAC7B,QAAA,CAAC;AAEO,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,GAAA,GAAY,IAAI,CAAC,QAAQ,KAAI;AACxD,YAAA,MAAM,IAAI,GAAG,GAAG,CAAC,WAAW,EAAE;AAC9B,YAAA,MAAM,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE;AAC5B,YAAA,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE;AAE1B,YAAA,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;AAC9B,QAAA,CAAC;QAEO,IAAA,CAAA,uBAAuB,GAAG,CAChC,IAAY,EACZ,KAAa,EACb,IAAY,KACF;;AAEV,YAAA,IAAI,WAAW,GAAG,IAAI,GAAG,GAAG;AAE5B,YAAA,IACE,KAAK,GAAG,IAAI,CAAC,eAAe;iBAC3B,KAAK,KAAK,IAAI,CAAC,eAAe,IAAI,IAAI,GAAG,EAAE,CAAC,EAC7C;AACA,gBAAA,WAAW,GAAG,WAAW,GAAG,CAAC;YAC/B;AACA,YAAA,OAAO,WAAW;AACpB,QAAA,CAAC;AAEO,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,GAAA,GAAY,IAAI,CAAC,QAAQ,KAAI;YACtD,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;AACtC,YAAA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;AAC5D,YAAA,MAAM,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;YAEnE,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;YAC7C,IAAI,WAAW,GAAG,CAAC;YACnB,IAAI,YAAY,GAAG,EAAE;YACrB,IAAI,iBAAiB,GAAG,CAAC;YAEzB,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;AACrC,gBAAA,IAAI,KAAK,KAAK,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;oBAChE,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC;gBAC/C;gBACA,WAAW,GAAG,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;gBAC1D,iBAAiB,GAAG,KAAK;AACzB,gBAAA,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,iBAAiB,CAAC;YACnE;iBAAO;gBACL,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;gBAC9C,iBAAiB,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE;AACpC,gBAAA,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,iBAAiB,CAAC;YACnE;YACA,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CACpD,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAClC;AAED,YAAA,IAAI,CAAC,KAAK,GAAG,WAAW;AACxB,YAAA,IAAI,CAAC,KAAK,GAAG,WAAW;YACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC;YACpD,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC;AAC5D,YAAA,IAAI,CAAC,QAAQ,GAAG,YAAY;AAC5B,YAAA,IAAI,CAAC,UAAU,GAAG,YAAY,CAC5B,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,EACtC,IAAI,CAAC,aAAa,CACnB;YACD,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC;AAC5D,YAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;AACjE,YAAA,IAAI,CAAC,OAAO,GAAG,aAAa;AAC9B,QAAA,CAAC;QAED,IAAA,CAAA,cAAc,GAAG,MAAa;YAC5B,OAAO,CAAA,EAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,OAAO,CAAA,CAAA,EAC3D,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAClC,CAAA,CAAA,EAAI,IAAI,CAAC,OAAO,CAAA,CAAE;AACpB,QAAA,CAAC;QAED,IAAA,CAAA,sBAAsB,GAAG,MAAa;AACpC,YAAA,OAAO,GAAG,IAAI,CAAC,MAAM,CAAA,EAAA,EAAK,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,IAAI,CAAC,QAAQ,CAAA,CAAA,EAAI,IAAI,CAAC,KAAK,EAAE;AACvE,QAAA,CAAC;QAED,IAAA,CAAA,qBAAqB,GAAG,MAA0B;YAChD,OAAO;gBACL,MAAM,EAAE,IAAI,CAAC,OAAO;gBACpB,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,MAAM,EAAE,IAAI,CAAC,OAAO;aACE;AAC1B,QAAA,CAAC;QAED,IAAA,CAAA,cAAc,GAAG,MAAmB;YAClC,OAAO;gBACL,IAAI,EAAE,IAAI,CAAC,KAAK;gBAChB,KAAK,EAAE,IAAI,CAAC,MAAM;gBAClB,IAAI,EAAE,IAAI,CAAC,KAAK;aACD;AACnB,QAAA,CAAC;QAED,IAAA,CAAA,UAAU,GAAG,MAAe;YAC1B,OAAO;gBACL,IAAI,EAAE,IAAI,CAAC,KAAK;gBAChB,KAAK,EAAE,IAAI,CAAC,MAAM;gBAClB,IAAI,EAAE,IAAI,CAAC,KAAK;gBAChB,MAAM,EAAE,IAAI,CAAC,OAAO;gBACpB,SAAS,EAAE,IAAI,CAAC,UAAU;gBAC1B,MAAM,EAAE,IAAI,CAAC,OAAO;gBACpB,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC1C,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;gBACzC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;gBACzC,UAAU,EAAE,IAAI,CAAC,QAAQ;gBACzB,QAAQ,EAAE,IAAI,CAAC,MAAM;gBACrB,SAAS,EAAE,IAAI,CAAC,OAAO;aACZ;AACf,QAAA,CAAC;AA1HC,QAAA,IAAI,CAAC,QAAQ,GAAG,GAAG;AACnB,QAAA,IAAI,CAAC,aAAa,GAAG,YAAY;QACjC,IAAI,CAAC,eAAe,EAAE;IACxB;AAwHD;;;;"}